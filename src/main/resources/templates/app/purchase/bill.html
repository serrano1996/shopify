<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="layout/layout :: head"></head>

<meta charset="UTF-8">

<body>

	<header th:replace="layout/layout :: header"></header>

	<div class="container" style="margin-top: 100px;">

		<h1 class="text-center">Factura</h1>
		
		<h3 class="text-right">
			FAC #0000<span th:text="${purchase.id}"></span>
		</h3>
		
		<hr>
		
		<div class="float-left">
			<strong>Comprado por:</strong><br> 
			<span th:text="${purchase.owner.name + ' ' + purchase.owner.lastname}"></span><br>
			<span th:text="${purchase.owner.email}"></span>
		</div>
		<div class="float-right">
			<strong>Fecha de compra:</strong><br> 
			<span th:text="${#dates.format(purchase.purchaseDate,'dd/MMM/yyyy HH:mm')}"></span><br>
		</div>
		<div style="clear: both;" ></div>
		
		<h5 class="mt-3">Listado de productos</h5>
		<table class="table table-dark">
			<thead>
				<tr>
					<td><strong>Producto</strong></td>
					<td class="text-right"><strong>Precio</strong></td>
				</tr>
			</thead>
			<tbody>									
				<tr th:each="product : ${products}">
					<td><span th:text="${product.name}"></span></td>
					<td class="text-right"><span th:text="${#numbers.formatCurrency(product.price)}"></span></td>
				</tr>
				<tr>
					<td class="text-right"><strong></strong></td>
					<td class="text-right"><span
						th:text="${#numbers.formatCurrency(total_buy)}"></span></td>
				</tr>
			</tbody>
		</table>
		<a th:href="@{/public}" class="btn btn-primary">Volver</a>

	</div>

	<footer th:replace="layout/layout :: footer"></footer>

</body>
</html>